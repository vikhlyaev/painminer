# Веб-интерфейс Painminer

Современный веб-интерфейс для Painminer, построенный с использованием Next.js и Tailwind CSS.

## Возможности

- **Интерактивная форма анализа**: Настройка subreddit-ов, фильтров и параметров кластеризации
- **Поддержка Proxy**: Настройка прокси для доступа к Reddit API (single proxy или pool с ротацией)
- **Отслеживание прогресса в реальном времени**: Наблюдение за прогрессом анализа с живыми обновлениями
- **Красивое отображение результатов**: Просмотр идей приложений и кластеров проблем с подробной информацией
- **История заданий**: Отслеживание прошлых анализов и пересмотр результатов
- **Локальное хранение учетных данных**: Учетные данные Reddit API хранятся локально в браузере
- **Управление кешем**: Просмотр статистики кеша и очистка кешированных данных

## Технологический стек

- **Next.js 16** - React фреймворк с App Router
- **Tailwind CSS** - CSS фреймворк utility-first
- **React Query** - Загрузка данных и управление состоянием
- **Lucide React** - Красивые иконки
- **TypeScript** - Типобезопасность

## Начало работы

### Предварительные требования

- Node.js 18+
- npm или yarn
- Запущенный API Painminer (FastAPI бэкэнд)

### Установка

```bash
# Перейдите в директорию web
cd web

# Установите зависимости
npm install

# Скопируйте файл окружения
cp .env.example .env.local

# Отредактируйте .env.local при необходимости (URL API по умолчанию: http://localhost:8000)
```

### Разработка

```bash
# Запустите сервер разработки
npm run dev
```

Приложение будет доступно по адресу [http://localhost:3000](http://localhost:3000).

### Сборка для продакшена

```bash
# Сборка для продакшена
npm run build

# Запуск продакшен сервера
npm start
```

## Запуск с бэкэндом

1. Запустите FastAPI бэкэнд:

```bash
# Из корня проекта
uvicorn painminer.api:app --reload --host 0.0.0.0 --port 8000
```

2. Запустите веб-интерфейс:

```bash
# Из директории web
npm run dev
```

3. Откройте [http://localhost:3000](http://localhost:3000) в вашем браузере

## Структура проекта

```
web/
├── src/
│   ├── app/
│   │   ├── globals.css      # Глобальные стили
│   │   ├── layout.tsx       # Корневой макет с провайдерами
│   │   └── page.tsx         # Главная страница
│   ├── components/
│   │   ├── analysis-form.tsx    # Основная форма для настройки анализа
│   │   ├── dashboard.tsx        # Основной компонент панели управления
│   │   ├── job-progress.tsx     # Компонент отслеживания прогресса
│   │   ├── jobs-list.tsx        # Боковая панель истории заданий
│   │   ├── providers.tsx        # Провайдер React Query
│   │   ├── results-view.tsx     # Компонент отображения результатов
│   │   └── status-bar.tsx       # Статус подключения к API
│   └── lib/
│       ├── api.ts           # Функции API клиента
│       ├── hooks.ts         # Хуки React Query
│       └── types.ts         # TypeScript типы
├── .env.example             # Шаблон переменных окружения
├── .env.local               # Локальные переменные окружения
├── package.json
└── README.md
```

## Переменные окружения

| Переменная | Описание | По умолчанию |
|----------|-------------|---------|
| `NEXT_PUBLIC_API_URL` | URL API Painminer | `http://localhost:8000` |

## Лицензия

MIT
